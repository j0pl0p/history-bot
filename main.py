# -*- encoding: utf-8 -*-

import telebot
from telebot import types

from secret_file import secret_token

bot = telebot.TeleBot(secret_token())

user_data = {

}

lessons = [
    '–í–≤–µ–¥–µ–Ω–∏–µ –∏ –æ–±—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —ç–∫–æ–Ω–æ–º–∏–∫–∏',
    '–ü—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ—Å—Ç—å –∏ –∏–Ω–¥—É—Å—Ç—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è',
    '–°–µ–ª—å—Å–∫–æ–µ —Ö–æ–∑—è–π—Å—Ç–≤–æ –∏ –ø—Ä–æ–¥–æ–≤–æ–ª—å—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ',
    '–§–∏–Ω–∞–Ω—Å–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –∏ –≤–æ–µ–Ω–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã',
    '–õ–µ–Ω–¥-–ª–∏–∑ –∏ –≤–Ω–µ—à–Ω–µ—ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∞—è –ø–æ–º–æ—â—å',
    '–ó–∞–∫–ª—é—á–µ–Ω–∏–µ'
]

lesson_pages = {
    '–í–≤–µ–¥–µ–Ω–∏–µ –∏ –æ–±—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —ç–∫–æ–Ω–æ–º–∏–∫–∏': [
        '''
–≠–∫–æ–Ω–æ–º–∏–∫–∞ –°–æ–≤–µ—Ç—Å–∫–æ–≥–æ –°–æ—é–∑–∞ –≤ –≥–æ–¥—ã –í—Ç–æ—Ä–æ–π –º–∏—Ä–æ–≤–æ–π –≤–æ–π–Ω—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–ª–∞ —Å–æ–±–æ–π —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É, –≤ –∫–æ—Ç–æ—Ä–æ–π –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–≥—Ä–∞–ª–æ –∫–ª—é—á–µ–≤—É—é —Ä–æ–ª—å.

–°–æ–≤–µ—Ç—Å–∫–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–ª–æ –º–æ–±–∏–ª–∏–∑–∞—Ü–∏—é –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ –¥–ª—è –∑–∞—â–∏—Ç—ã —Å—Ç—Ä–∞–Ω—ã. –° –Ω–∞—á–∞–ª–∞ –≤–æ–π–Ω—ã —ç–∫–æ–Ω–æ–º–∏–∫–∞ –°–°–°–† –±—ã–ª–∞ –ø–µ—Ä–µ–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –æ–±–æ—Ä–æ–Ω–Ω–æ–π –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ—Å—Ç–∏, —á—Ç–æ –≤—ã—Ä–∞–∂–∞–ª–æ—Å—å –≤ –ø–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ –±—é–¥–∂–µ—Ç–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤, —É–≤–µ–ª–∏—á–µ–Ω–∏–∏ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤ –∏ –∞–∫—Ç–∏–≤–Ω–æ–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã –≤—Å–µ—Ö –æ—Ç—Ä–∞—Å–ª–µ–π —ç–∫–æ–Ω–æ–º–∏–∫–∏.

–û—Å–Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã —è–≤–ª—è–ª–∞—Å—å –∫–æ–º–∞–Ω–¥–∞-–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –º–æ–¥–µ–ª—å, –≥–¥–µ —Ä–µ—à–µ–Ω–∏—è –ø—Ä–∏–Ω–∏–º–∞–ª–∏—Å—å –Ω–∞ –≤—ã—Å—à–µ–º —É—Ä–æ–≤–Ω–µ, –∞ –∫–æ–Ω—Ç—Ä–æ–ª—å –∑–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ–º –≤–æ–∑–ª–∞–≥–∞–ª—Å—è –Ω–∞ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–∏—Ç–µ—Ç—ã, —Ç–∞–∫–∏–µ –∫–∞–∫ –ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π –ø–ª–∞–Ω–æ–≤—ã–π –∫–æ–º–∏—Ç–µ—Ç –∏ –ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–æ–º–∏—Ç–µ—Ç –ø–æ –±—é–¥–∂–µ—Ç—É.

–¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –ø–æ–∑–≤–æ–ª—è–ª –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –æ–±—Å—Ç–∞–Ω–æ–≤–∫–µ, —Ö–æ—Ç—è –∏ –∏–º–µ–ª —Å–≤–æ–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –¥–µ—Ñ–∏—Ü–∏—Ç–æ–º —Ç–æ–≤–∞—Ä–æ–≤ –Ω–∞—Ä–æ–¥–Ω–æ–≥–æ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –∏ —Å–ª–æ–∂–Ω–æ—Å—Ç—è–º–∏ –≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º —Ä–µ—Å—É—Ä—Å–æ–≤.
        '''
    ],
    '–ü—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ—Å—Ç—å –∏ –∏–Ω–¥—É—Å—Ç—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è': [
        '''
–ü—Ä–µ–¥–≤–æ–µ–Ω–Ω–∞—è –∏–Ω–¥—É—Å—Ç—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è (1928‚Äì1941)

–û–¥–Ω–æ–π –∏–∑ –∫–ª—é—á–µ–≤—ã—Ö –∑–∞–¥–∞—á —Å–æ–≤–µ—Ç—Å–∫–æ–π —ç–∫–æ–Ω–æ–º–∏–∫–∏ –≤ –ø—Ä–µ–¥–≤–æ–µ–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –±—ã–ª–∞ —Ñ–æ—Ä—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∏–Ω–¥—É—Å—Ç—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –º–æ—â–Ω–æ–π –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–π –±–∞–∑—ã, —Å–ø–æ—Å–æ–±–Ω–æ–π –æ–±–µ—Å–ø–µ—á–∏—Ç—å –æ–±–æ—Ä–æ–Ω–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Å—Ç—Ä–∞–Ω—ã. –ü–µ—Ä–≤—ã–π –ø—è—Ç–∏–ª–µ—Ç–Ω–∏–π –ø–ª–∞–Ω (1928‚Äì1932) –∑–∞–ª–æ–∂–∏–ª –æ—Å–Ω–æ–≤—É –¥–ª—è —Ä–∞–∑–≤–∏—Ç–∏—è —Ç—è–∂–µ–ª–æ–π –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ—Å—Ç–∏, –≤–∫–ª—é—á–∞—è –º–µ—Ç–∞–ª–ª—É—Ä–≥–∏—é, –º–∞—à–∏–Ω–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –∏ —ç–Ω–µ—Ä–≥–µ—Ç–∏–∫—É. –í—Ç–æ—Ä–∞—è –ø—è—Ç–∏–ª–µ—Ç–∫–∞ (1933‚Äì1937) –∏ —Ç—Ä–µ—Ç—å—è (1938‚Äì1941, –ø—Ä–µ—Ä–≤–∞–Ω–∞ –≤–æ–π–Ω–æ–π) –ø—Ä–æ–¥–æ–ª–∂–∏–ª–∏ —ç—Ç–æ—Ç –∫—É—Ä—Å, —É–¥–µ–ª—è—è –æ—Å–æ–±–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ –æ–±–æ—Ä–æ–Ω–Ω–æ–º—É —Å–µ–∫—Ç–æ—Ä—É.

–ö 1941 –≥–æ–¥—É –°–°–°–† –≤—ã—à–µ–ª –Ω–∞ –≤—Ç–æ—Ä–æ–µ –º–µ—Å—Ç–æ –≤ –º–∏—Ä–µ –ø–æ –æ–±—ä—ë–º–∞–º –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞, —É—Å—Ç—É–ø–∞—è –ª–∏—à—å –°–®–ê. –ë—ã–ª–∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω—ã –≥–∏–≥–∞–Ω—Ç—ã –∏–Ω–¥—É—Å—Ç—Ä–∏–∏, —Ç–∞–∫–∏–µ –∫–∞–∫ –ú–∞–≥–Ω–∏—Ç–æ–≥–æ—Ä—Å–∫–∏–π –º–µ—Ç–∞–ª–ª—É—Ä–≥–∏—á–µ—Å–∫–∏–π –∫–æ–º–±–∏–Ω–∞—Ç, –£—Ä–∞–ª–º–∞—à, –ì–æ—Ä—å–∫–æ–≤—Å–∫–∏–π –∞–≤—Ç–æ–º–æ–±–∏–ª—å–Ω—ã–π –∑–∞–≤–æ–¥ (–ì–ê–ó) –∏ –°—Ç–∞–ª–∏–Ω–≥—Ä–∞–¥—Å–∫–∏–π —Ç—Ä–∞–∫—Ç–æ—Ä–Ω—ã–π –∑–∞–≤–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –≤ –≥–æ–¥—ã –≤–æ–π–Ω—ã —Å—Ç–∞–ª –∫–ª—é—á–µ–≤—ã–º –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ–º —Ç–∞–Ω–∫–æ–≤ –¢-34.
        ''', '''
–≠–≤–∞–∫—É–∞—Ü–∏—è –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –ø–µ—Ä–µ—Å—Ç—Ä–æ–π–∫–∞ —ç–∫–æ–Ω–æ–º–∏–∫–∏ –≤ –≥–æ–¥—ã –≤–æ–π–Ω—ã (1941‚Äì1945)

–° –Ω–∞—á–∞–ª–æ–º –í–µ–ª–∏–∫–æ–π –û—Ç–µ—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–π –≤–æ–π–Ω—ã –ø–µ—Ä–µ–¥ –°–°–°–† –≤—Å—Ç–∞–ª–∞ –∑–∞–¥–∞—á–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–≥–æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–∞. –í 1941‚Äì1942 –≥–æ–¥–∞—Ö –±—ã–ª–∞ –ø—Ä–æ–≤–µ–¥–µ–Ω–∞ –±–µ—Å–ø—Ä–µ—Ü–µ–¥–µ–Ω—Ç–Ω–∞—è —ç–≤–∞–∫—É–∞—Ü–∏—è –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏–π –∏–∑ –∑–∞–ø–∞–¥–Ω—ã—Ö —Ä–µ–≥–∏–æ–Ω–æ–≤ –Ω–∞ –£—Ä–∞–ª, –≤ –°–∏–±–∏—Ä—å –∏ –°—Ä–µ–¥–Ω—é—é –ê–∑–∏—é. –í—Å–µ–≥–æ –±—ã–ª–æ –ø–µ—Ä–µ–º–µ—â–µ–Ω–æ –±–æ–ª–µ–µ 2,5 —Ç—ã—Å. –∑–∞–≤–æ–¥–æ–≤ –∏ —Ñ–∞–±—Ä–∏–∫, –∞ —Ç–∞–∫–∂–µ –æ–∫–æ–ª–æ 10‚Äì12 –º–ª–Ω —Ä–∞–±–æ—á–∏—Ö –∏ –∏—Ö —Å–µ–º–µ–π.

–≠—Ç–æ—Ç –ø—Ä–æ—Ü–µ—Å—Å –ø–æ—Ç—Ä–µ–±–æ–≤–∞–ª –∫–æ–ª–æ—Å—Å–∞–ª—å–Ω—ã—Ö —É—Å–∏–ª–∏–π: –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏—è —Ä–∞–∑–±–∏—Ä–∞–ª–∏—Å—å, –ø–µ—Ä–µ–≤–æ–∑–∏–ª–∏—Å—å –∏ –∑–∞–Ω–æ–≤–æ –∑–∞–ø—É—Å–∫–∞–ª–∏—Å—å –≤ —Ä–µ–∫–æ—Ä–¥–Ω—ã–µ —Å—Ä–æ–∫–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, –ó–∞–ø–æ—Ä–æ–∂—Å–∫–∏–π –∞–≤–∏–∞—Ü–∏–æ–Ω–Ω—ã–π –∑–∞–≤–æ–¥ –±—ã–ª —ç–≤–∞–∫—É–∏—Ä–æ–≤–∞–Ω –≤ –û–º—Å–∫ –∏ —É–∂–µ —á–µ—Ä–µ–∑ —Ç—Ä–∏ –º–µ—Å—è—Ü–∞ –≤–æ–∑–æ–±–Ω–æ–≤–∏–ª –≤—ã–ø—É—Å–∫ —à—Ç—É—Ä–º–æ–≤–∏–∫–æ–≤ –ò–ª-2.
        ''', '''
–†–æ—Å—Ç –≤–æ–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ –∏ —Ä–æ–ª—å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

–ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –ø–æ—Ç–µ—Ä—é –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã—Ö —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–π, –°–°–°–† —Å—É–º–µ–ª –Ω–µ —Ç–æ–ª—å–∫–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å, –Ω–æ –∏ –ø—Ä–µ–≤–∑–æ–π—Ç–∏ –¥–æ–≤–æ–µ–Ω–Ω—ã–µ –æ–±—ä—ë–º—ã –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ –≤–æ–æ—Ä—É–∂–µ–Ω–∏–π. –ö 1943 –≥–æ–¥—É —Å–æ–≤–µ—Ç—Å–∫–∞—è –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ—Å—Ç—å –≤—ã–ø—É—Å–∫–∞–ª–∞ –±–æ–ª—å—à–µ —Ç–∞–Ω–∫–æ–≤, —Å–∞–º–æ–ª—ë—Ç–æ–≤ –∏ –∞—Ä—Ç–∏–ª–ª–µ—Ä–∏–∏, —á–µ–º –ì–µ—Ä–º–∞–Ω–∏—è.

–ö–ª—é—á–µ–≤—ã–º–∏ —Ñ–∞–∫—Ç–æ—Ä–∞–º–∏ —É—Å–ø–µ—Ö–∞ —Å—Ç–∞–ª–∏:
‚Ä¢ –ñ—ë—Å—Ç–∫–∞—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–ì–ö–û ‚Äì –ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–æ–º–∏—Ç–µ—Ç –æ–±–æ—Ä–æ–Ω—ã).
‚Ä¢ –ü–µ—Ä–µ–æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è –≥—Ä–∞–∂–¥–∞–Ω—Å–∫–∏—Ö –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏–π –Ω–∞ –≤–æ–µ–Ω–Ω—ã–µ –Ω—É–∂–¥—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–∞—Å–æ–≤—ã–µ –∑–∞–≤–æ–¥—ã —Å—Ç–∞–ª–∏ –≤—ã–ø—É—Å–∫–∞—Ç—å –≤–∑—Ä—ã–≤–∞—Ç–µ–ª–∏ –¥–ª—è —Å–Ω–∞—Ä—è–¥–æ–≤).
‚Ä¢ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç—Ä—É–¥–∞ –∂–µ–Ω—â–∏–Ω –∏ –ø–æ–¥—Ä–æ—Å—Ç–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ—Å—Ç–∞–≤–∏–ª–∏ –¥–æ 50% —Ä–∞–±–æ—á–∏—Ö –Ω–∞ –∑–∞–≤–æ–¥–∞—Ö.
        ''', '''
–ò—Ç–æ–≥–∏ –∏ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥—É—Å—Ç—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è –ø–æ–±–µ–¥—ã

–ë–ª–∞–≥–æ–¥–∞—Ä—è –ø—Ä–æ–≤–µ–¥—ë–Ω–Ω–æ–π –≤ 1930-–µ –≥–æ–¥—ã –∏–Ω–¥—É—Å—Ç—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π –º–æ–±–∏–ª–∏–∑–∞—Ü–∏–∏ —ç–∫–æ–Ω–æ–º–∏–∫–∏ –≤ –≥–æ–¥—ã –≤–æ–π–Ω—ã –°–°–°–† —Å–º–æ–≥ –æ–±–µ—Å–ø–µ—á–∏—Ç—å –ö—Ä–∞—Å–Ω—É—é –ê—Ä–º–∏—é –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º –≤–æ–æ—Ä—É–∂–µ–Ω–∏–µ–º –∏ —Ç–µ—Ö–Ω–∏–∫–æ–π. –ö 1945 –≥–æ–¥—É —Å–æ–≤–µ—Ç—Å–∫–∞—è –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ—Å—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏–ª–∞ –≤¬†5 —Ä–∞–∑ –±–æ–ª—å—à–µ –∞—Ä—Ç–∏–ª–ª–µ—Ä–∏–π—Å–∫–∏—Ö –æ—Ä—É–¥–∏–π¬†–∏ –≤¬†2 —Ä–∞–∑–∞ –±–æ–ª—å—à–µ —Ç–∞–Ω–∫–æ–≤, —á–µ–º –≤ 1941 –≥–æ–¥—É.

–û–ø—ã—Ç –≤–æ–µ–Ω–Ω–æ–π –ø–µ—Ä–µ—Å—Ç—Ä–æ–π–∫–∏ —ç–∫–æ–Ω–æ–º–∏–∫–∏ –æ–∫–∞–∑–∞–ª –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–µ –≤–ª–∏—è–Ω–∏–µ –Ω–∞ –ø–æ—Å–ª–µ–≤–æ–µ–Ω–Ω–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ –°–°–°–†, –∑–∞–∫—Ä–µ–ø–∏–≤ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Ç—è–∂—ë–ª–æ–π –∏ –æ–±–æ—Ä–æ–Ω–Ω–æ–π –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ—Å—Ç–∏.
        '''
    ]
}


@bot.message_handler(func=lambda message: message.text in [
    '/start',
    'üî† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é'
])
def start_handler(message):
    markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
    btn1 = types.KeyboardButton('üß† –£—Ä–æ–∫–∏')
    btn2 = types.KeyboardButton('‚ùì –¢–µ—Å—Ç—ã')
    btn3 = types.KeyboardButton('‚ùå –Ø –ø–æ–∂–∞–ª—É–π –æ—Ç–∫–∞–∂—É—Å—å')
    markup.add(btn1, btn2, btn3)

    bot.send_message(message.chat.id, (
        '–ü—Ä–∏–≤–µ—Ç, –¥—Ä—É–≥!\n'
        '–î–∞–≤–∞–π –∏–∑—É—á–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é –≤–º–µ—Å—Ç–µ üòé'
    ), reply_markup=markup)


@bot.message_handler(func=lambda message: message.text == 'üß† –£—Ä–æ–∫–∏')
def handle_text(message):
    new_markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
    new_markup.add(
        types.KeyboardButton('–í–≤–µ–¥–µ–Ω–∏–µ –∏ –æ–±—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —ç–∫–æ–Ω–æ–º–∏–∫–∏'),
        types.KeyboardButton('–ü—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ—Å—Ç—å –∏ –∏–Ω–¥—É—Å—Ç—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è'),
        types.KeyboardButton('–°–µ–ª—å—Å–∫–æ–µ —Ö–æ–∑—è–π—Å—Ç–≤–æ –∏ –ø—Ä–æ–¥–æ–≤–æ–ª—å—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ'),
        types.KeyboardButton('–§–∏–Ω–∞–Ω—Å–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –∏ –≤–æ–µ–Ω–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã'),
        types.KeyboardButton('–õ–µ–Ω–¥-–ª–∏–∑ –∏ –≤–Ω–µ—à–Ω–µ—ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∞—è –ø–æ–º–æ—â—å'),
        types.KeyboardButton('–ó–∞–∫–ª—é—á–µ–Ω–∏–µ'),
        types.KeyboardButton('‚¨Ö –ù–∞–∑–∞–¥'),
    )
    bot.send_message(message.chat.id, '–í—ã–±–µ—Ä–∏ –≥–ª–∞–≤—É', reply_markup=new_markup)


@bot.message_handler(func=lambda message: message.text == '‚ùì –¢–µ—Å—Ç—ã')
def nahui_handler(message):
    bot.send_message(message.chat.id, '–í—ã–±–µ—Ä–∏ —Ç–µ—Å—Ç')


@bot.message_handler(func=lambda message: message.text == '‚ùå –Ø –ø–æ–∂–∞–ª—É–π –æ—Ç–∫–∞–∂—É—Å—å')
def nahui_handler(message):
    markup = types.ReplyKeyboardRemove()
    bot.send_message(message.chat.id, '', reply_markup=markup)


def send_lesson_page(chat_id, user_id):
    data = user_data.get(user_id)
    if not data:
        bot.send_message(chat_id, '–û—à–∏–±–∫–∞: –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –≥–ª–∞–≤–µ.')
        return

    lesson = data['lesson']
    page = data['page']
    pages = lesson_pages[lesson]

    markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
    buttons = []
    if page > 0:
        buttons.append('‚¨Ö –ù–∞–∑–∞–¥')
    if page < len(pages) - 1:
        buttons.append('‚û° –î–∞–ª–µ–µ')
    if page == len(pages)-1:
        buttons.append('üìñ –ö —Ç–µ—Å—Ç–∞–º')
    buttons.append('üî† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é')
    markup.add(*[types.KeyboardButton(b) for b in buttons])

    bot.send_message(chat_id, pages[page], reply_markup=markup)


@bot.message_handler(func=lambda msg: msg.text in ['‚¨Ö –ù–∞–∑–∞–¥', '‚û° –î–∞–ª–µ–µ'])
def paginate_handler(message):
    user_id = message.from_user.id
    if user_id not in user_data:
        bot.send_message(message.chat.id, '–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏ —É—Ä–æ–∫.')
        return

    direction = message.text
    if direction == '‚û° –î–∞–ª–µ–µ':
        user_data[user_id]['page'] += 1
    elif direction == '‚¨Ö –ù–∞–∑–∞–¥':
        user_data[user_id]['page'] -= 1

    send_lesson_page(message.chat.id, user_id)


@bot.message_handler(func=lambda message: message.text in lesson_pages)
def lesson_handler(message):
    user_id = message.from_user.id
    lesson = message.text

    user_data[user_id] = {'lesson': lesson, 'page': 0}
    send_lesson_page(message.chat.id, user_id)


@bot.message_handler(func=lambda msg: msg.text == '‚è≠ –°–ª–µ–¥—É—é—â–∞—è –≥–ª–∞–≤–∞')
def next_chapter_handler(message):
    user_id = message.from_user.id
    data = user_data.get(user_id)

    if not data:
        bot.send_message(message.chat.id, '–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏ —É—Ä–æ–∫.')
        return

    current_lesson = data['lesson']
    current_page = data['page']

    pages = lesson_pages[current_lesson]

    if current_page + 1 < len(pages):
        user_data[user_id]['page'] += 1
        send_lesson_page(message.chat.id, user_id)
        return

    lesson_index = lessons.index(current_lesson)
    if lesson_index + 1 >= len(lessons):
        bot.send_message(message.chat.id, '–≠—Ç–æ –±—ã–ª–∞ –ø–æ—Å–ª–µ–¥–Ω—è—è –≥–ª–∞–≤–∞ üéâ')
        return

    next_lesson = lessons[lesson_index + 1]
    user_data[user_id] = {
        'lesson': next_lesson,
        'page': 0
    }

    send_lesson_page(message.chat.id, user_id)


@bot.message_handler(func=lambda message: True)
def fallback_handler(message):
    bot.send_message(message.chat.id, '—â—Ç–∞')


bot.polling(none_stop=True, interval=0)
